<style>
    #event-log-modal .modal-content {
        max-width: 900px;
    }
    #event-log-form fieldset {
        border: 1px solid #dee2e6;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 25px;
    }
    #event-log-form legend {
        padding: 0 10px;
        font-weight: 600;
        color: #007bff;
    }
    .checkbox-group, .radio-group {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        padding-top: 5px;
    }
    .checkbox-group label, .radio-group label {
        display: flex;
        align-items: center;
        gap: 5px;
        cursor: pointer;
    }
</style>

<div id="event-log-modal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="event-log-modal-title">ğŸ“‹ äº‹ä»¶ç´€éŒ„</h2>
            <button class="close-btn" onclick="closeModal('event-log-modal')">&times;</button>
        </div>
        
        <div id="event-log-opportunity-info" class="alert alert-info" style="margin-bottom: 20px;">
            è¼‰å…¥æ©Ÿæœƒè³‡è¨Šä¸­...
        </div>

        <div id="event-log-opportunity-selector" class="form-group" style="display: none;">
            <label for="event-log-select-opportunity" class="form-label">é¸æ“‡é—œè¯æ©Ÿæœƒ *</label>
            <select id="event-log-select-opportunity" class="form-select" required>
                <option value="">è¼‰å…¥æ©Ÿæœƒåˆ—è¡¨ä¸­...</option>
            </select>
        </div>

        <form id="event-log-form">
            <input type="hidden" id="event-log-opportunityId">
            <input type="hidden" id="event-log-eventId">

            <div class="form-group">
                <label for="event-name" class="form-label">äº‹ä»¶åç¨± *</label>
                <input type="text" class="form-input" id="event-name" placeholder="ä¾‹å¦‚ï¼šé¦–æ¬¡æ‹œè¨ªæœƒè­°ã€ç”¢å“ Demo" required>
            </div>

            <fieldset>
                <legend>1ï¸âƒ£ éœ€æ±‚æ‘˜è¦å€</legend>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">ä¸‹å–®æ©Ÿç‡</label>
                        <div class="radio-group" id="order-probability">
                            <label><input type="radio" name="orderProbability" value="é«˜"> é«˜</label>
                            <label><input type="radio" name="orderProbability" value="ä¸­"> ä¸­</label>
                            <label><input type="radio" name="orderProbability" value="ä½"> ä½</label>
                            <label><input type="radio" name="orderProbability" value="C"> C</label>
                            <label><input type="radio" name="orderProbability" value="D"> D</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">å¯èƒ½ä¸‹å–®æ•¸é‡</label>
                        <input type="text" class="form-input" id="potential-quantity" placeholder="ä¾‹ï¼š20å°ã€50set">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">éŠ·å”®ç®¡é“</label>
                         <div class="radio-group" id="sales-channel">
                            <label><input type="radio" name="salesChannel" value="SI"> SI</label>
                            <label><input type="radio" name="salesChannel" value="ç¶“éŠ·å•†"> ç¶“éŠ·å•†</label>
                            <label><input type="radio" name="salesChannel" value="TFC"> TFC</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">å…¬å¸è¦æ¨¡ (Size)</label>
                        <div class="radio-group" id="company-size">
                            <label><input type="radio" name="companySize" value="è¶…å¤§100+"> è¶…å¤§100+</label>
                            <label><input type="radio" name="companySize" value="å¤§50-99"> å¤§50-99</label>
                            <label><input type="radio" name="companySize" value="ä¸­20-49"> ä¸­20-49</label>
                             <label><input type="radio" name="companySize" value="å°19ä»¥ä¸‹"> å°19ä»¥ä¸‹</label>
                        </div>
                    </div>
                </div>

                 <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">æ´½è«‡æ”œå¸¶äººå“¡ (æˆ‘æ–¹)</label>
                        <input type="text" class="form-input" id="our-participants" placeholder="åƒèˆ‡äººå“¡å§“å">
                    </div>
                    <div class="form-group">
                        <label class="form-label">æ‹œè¨ªå°è±¡ (å®¢æˆ¶)</label>
                        <input type="text" class="form-input" id="client-participants" placeholder="å–®ä½æˆ–è·ç¨± / å§“å">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">æ‹œè¨ªåœ°é»</label>
                    <input type="text" class="form-input" id="visit-place" placeholder="å®¢æˆ¶åœ°é»">
                </div>

                <div class="form-group">
                    <label class="form-label">ç”Ÿç”¢ç·šç‰¹å¾µ (å¯å¤šé¸)</label>
                    <div class="checkbox-group" id="line-features">
                        <label><input type="checkbox" value="å·¥å…·æ©Ÿ"> å·¥å…·æ©Ÿ</label>
                        <label><input type="checkbox" value="ROBOT"> ROBOT</label>
                        <label><input type="checkbox" value="å‚³ç”¢æ©Ÿ"> å‚³ç”¢æ©Ÿ</label>
                        <label><input type="checkbox" value="PLC"> PLC</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">ç¾æ³ç´€éŒ„ - ç”Ÿç”¢</label>
                    <textarea class="form-textarea" id="production-status" rows="3" placeholder="å®¢æˆ¶ç›®å‰ç”Ÿç”¢æƒ…æ³"></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">ç¾æ³ç´€éŒ„ - IoT</label>
                    <textarea class="form-textarea" id="iot-status" rows="3" placeholder="å®¢æˆ¶ IoT å°å…¥æƒ…æ³"></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">è¨»è§£</label>
                    <textarea class="form-textarea" id="summary-notes" rows="2" placeholder="å…¶ä»–è£œå……äº‹é …"></textarea>
                </div>
            </fieldset>

            <fieldset>
                <legend>2ï¸âƒ£ å» å…§ç—›é»å€</legend>

                <div class="form-group">
                    <label class="form-label">ç—›é»åˆ†é¡ (å¯å¤šé¸)</label>
                    <div class="checkbox-group" id="pain-points">
                        <label><input type="checkbox" value="Monitoring"> Monitoring</label>
                        <label><input type="checkbox" value="Improve OEE"> Improve OEE</label>
                        <label><input type="checkbox" value="Reduce Man-hours"> Reduce Man-hours</label>
                        <label><input type="checkbox" value="Others"> Others</label>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">è©³ç´°èªªæ˜</label>
                    <textarea class="form-textarea" id="pain-point-details" rows="3" placeholder="å®¢æˆ¶éœ€æ±‚ã€å°å…¥ç›®çš„"></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">System Image (ç³»çµ±æ¶æ§‹)</label>
                    <textarea class="form-textarea" id="system-architecture" rows="3" placeholder="ç³»çµ±æ¶æ§‹ç°¡åœ–æˆ–æ–‡å­—æè¿°"></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">External Linkage (å¤–éƒ¨ç³»çµ±ä¸²æ¥)</label>
                    <textarea class="form-textarea" id="external-systems" rows="3" placeholder="ERP / MES / 3rd App"></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">æ©Ÿå°èˆ‡ä¿¡è™Ÿæ•¸</label>
                        <input type="text" class="form-input" id="hardware-scale" placeholder="ä¾‹ï¼šæ©Ÿå°æ•¸é‡ã€PLC æ•¸é‡">
                    </div>
                    <div class="form-group">
                        <label class="form-label">VoC (å®¢æˆ¶å° FANUC æœŸæœ›)</label>
                         <div class="radio-group" id="fanuc-expectation">
                            <label><input type="radio" name="fanucExpectation" value="Yes"> Yes</label>
                            <label><input type="radio" name="fanucExpectation" value="Probably"> Probably</label>
                            <label><input type="radio" name="fanucExpectation" value="Maybe"> Maybe</label>
                            <label><input type="radio" name="fanucExpectation" value="No"> No</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">è£œå……èªªæ˜</label>
                    <textarea class="form-textarea" id="pain-point-notes" rows="2" placeholder="å…¶ä»–å‚™è¨»"></textarea>
                </div>
            </fieldset>

            <button type="submit" class="submit-btn" id="event-log-submit-btn">ğŸ’¾ å„²å­˜äº‹ä»¶ç´€éŒ„</button>
        </form>
    </div>
</div>